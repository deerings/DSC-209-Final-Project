import{s as Dr,n as dn,o as Di}from"../chunks/scheduler.zMJaRgub.js";import{S as Lr,i as Hr,e as tn,s as nn,y as Li,c as en,z as Ye,h as rn,d as Vn,g as G,A as Hi,p as Y,o as It,j as st,u as qi,v as Xi,w as Oi,t as Vi,a as Yi,x as Ui}from"../chunks/index.nDYtXvIK.js";function mn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Bi(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function qr(t){let n,e,r;t.length!==2?(n=mn,e=(u,c)=>mn(t(u),c),r=(u,c)=>t(u)-c):(n=t===mn||t===Bi?t:Gi,e=t,r=t);function i(u,c,f=0,l=u.length){if(f<l){if(n(c,c)!==0)return l;do{const h=f+l>>>1;e(u[h],c)<0?f=h+1:l=h}while(f<l)}return f}function o(u,c,f=0,l=u.length){if(f<l){if(n(c,c)!==0)return l;do{const h=f+l>>>1;e(u[h],c)<=0?f=h+1:l=h}while(f<l)}return f}function a(u,c,f=0,l=u.length){const h=i(u,c,f,l-1);return h>f&&r(u[h-1],c)>-r(u[h],c)?h-1:h}return{left:i,center:a,right:o}}function Gi(){return 0}function Wi(t){return t===null?NaN:+t}const Zi=qr(mn),Xr=Zi.right;qr(Wi).center;class yt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,u=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);u&&(e[r++]=u),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}const Ji=Math.sqrt(50),Ki=Math.sqrt(10),Qi=Math.sqrt(2);function Sn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ji?10:o>=Ki?5:o>=Qi?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(n*f),u/f<t&&++u,c/f>n&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(n/f),u*f<t&&++u,c*f>n&&--c),c<u&&.5<=e&&e<2?Sn(t,n,e*2):[u,c,f]}function ji(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Sn(n,t,e):Sn(t,n,e);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function re(t,n,e){return n=+n,t=+t,e=+e,Sn(t,n,e)[2]}function to(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?re(n,t,e):re(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function*no(t){for(const n of t)yield*n}function Or(t){return Array.from(no(t))}function eo(t){return t}var Yn=1,Un=2,ie=3,on=4,Ue=1e-6;function ro(t){return"translate("+t+",0)"}function io(t){return"translate(0,"+t+")"}function oo(t){return n=>+t(n)}function ao(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function uo(){return!this.__axis}function lo(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===Yn||t===on?-1:1,l=t===on||t===Un?"x":"y",h=t===Yn||t===ie?ro:io;function s(p){var g=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):eo),y=Math.max(o,0)+u,M=n.range(),E=+M[0]+c,S=+M[M.length-1]+c,d=(n.bandwidth?ao:oo)(n.copy(),c),_=p.selection?p.selection():p,x=_.selectAll(".domain").data([null]),N=_.selectAll(".tick").data(g,n).order(),A=N.exit(),$=N.enter().append("g").attr("class","tick"),R=N.select("line"),w=N.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge($),R=R.merge($.append("line").attr("stroke","currentColor").attr(l+"2",f*o)),w=w.merge($.append("text").attr("fill","currentColor").attr(l,f*y).attr("dy",t===Yn?"0em":t===ie?"0.71em":"0.32em")),p!==_&&(x=x.transition(p),N=N.transition(p),R=R.transition(p),w=w.transition(p),A=A.transition(p).attr("opacity",Ue).attr("transform",function(I){return isFinite(I=d(I))?h(I+c):this.getAttribute("transform")}),$.attr("opacity",Ue).attr("transform",function(I){var b=this.parentNode.__axis;return h((b&&isFinite(b=b(I))?b:d(I))+c)})),A.remove(),x.attr("d",t===on||t===Un?a?"M"+f*a+","+E+"H"+c+"V"+S+"H"+f*a:"M"+c+","+E+"V"+S:a?"M"+E+","+f*a+"V"+c+"H"+S+"V"+f*a:"M"+E+","+c+"H"+S),N.attr("opacity",1).attr("transform",function(I){return h(d(I)+c)}),R.attr(l+"2",f*o),w.attr(l,f*y).text(m),_.filter(uo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Un?"start":t===on?"end":"middle"),_.each(function(){this.__axis=d})}return s.scale=function(p){return arguments.length?(n=p,s):n},s.ticks=function(){return e=Array.from(arguments),s},s.tickArguments=function(p){return arguments.length?(e=p==null?[]:Array.from(p),s):e.slice()},s.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),s):r&&r.slice()},s.tickFormat=function(p){return arguments.length?(i=p,s):i},s.tickSize=function(p){return arguments.length?(o=a=+p,s):o},s.tickSizeInner=function(p){return arguments.length?(o=+p,s):o},s.tickSizeOuter=function(p){return arguments.length?(a=+p,s):a},s.tickPadding=function(p){return arguments.length?(u=+p,s):u},s.offset=function(p){return arguments.length?(c=+p,s):c},s}function Be(t){return lo(ie,t)}var so={value:()=>{}};function Te(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new vn(e)}function vn(t){this._=t}function fo(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}vn.prototype=Te.prototype={constructor:vn,on:function(t,n){var e=this._,r=fo(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=co(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=Ge(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Ge(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new vn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function co(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Ge(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=so,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var oe="http://www.w3.org/1999/xhtml";const We={svg:"http://www.w3.org/2000/svg",xhtml:oe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),We.hasOwnProperty(n)?{space:We[n],local:t}:t}function ho(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===oe&&n.documentElement.namespaceURI===oe?n.createElement(t):n.createElementNS(e,t)}}function po(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Vr(t){var n=qn(t);return(n.local?po:ho)(n)}function go(){}function Ce(t){return t==null?go:function(){return this.querySelector(t)}}function mo(t){typeof t!="function"&&(t=Ce(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=new Array(a),c,f,l=0;l<a;++l)(c=o[l])&&(f=t.call(c,c.__data__,l,o))&&("__data__"in c&&(f.__data__=c.__data__),u[l]=f);return new B(r,this._parents)}function vo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function yo(){return[]}function Yr(t){return t==null?yo:function(){return this.querySelectorAll(t)}}function wo(t){return function(){return vo(t.apply(this,arguments))}}function _o(t){typeof t=="function"?t=wo(t):t=Yr(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],u=a.length,c,f=0;f<u;++f)(c=a[f])&&(r.push(t.call(c,c.__data__,f,a)),i.push(c));return new B(r,i)}function Ur(t){return function(){return this.matches(t)}}function Br(t){return function(n){return n.matches(t)}}var xo=Array.prototype.find;function So(t){return function(){return xo.call(this.children,t)}}function Eo(){return this.firstElementChild}function Mo(t){return this.select(t==null?Eo:So(typeof t=="function"?t:Br(t)))}var No=Array.prototype.filter;function Ao(){return Array.from(this.children)}function $o(t){return function(){return No.call(this.children,t)}}function ko(t){return this.selectAll(t==null?Ao:$o(typeof t=="function"?t:Br(t)))}function bo(t){typeof t!="function"&&(t=Ur(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],c,f=0;f<a;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&u.push(c);return new B(r,this._parents)}function Gr(t){return new Array(t.length)}function Ro(){return new B(this._enter||this._groups.map(Gr),this._parents)}function En(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}En.prototype={constructor:En,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function To(t){return function(){return t}}function Co(t,n,e,r,i,o){for(var a=0,u,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new En(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function Po(t,n,e,r,i,o,a){var u,c,f=new Map,l=n.length,h=o.length,s=new Array(l),p;for(u=0;u<l;++u)(c=n[u])&&(s[u]=p=a.call(c,c.__data__,u,n)+"",f.has(p)?i[u]=c:f.set(p,c));for(u=0;u<h;++u)p=a.call(t,o[u],u,o)+"",(c=f.get(p))?(r[u]=c,c.__data__=o[u],f.delete(p)):e[u]=new En(t,o[u]);for(u=0;u<l;++u)(c=n[u])&&f.get(s[u])===c&&(i[u]=c)}function Io(t){return t.__data__}function Fo(t,n){if(!arguments.length)return Array.from(this,Io);var e=n?Po:Co,r=this._parents,i=this._groups;typeof t!="function"&&(t=To(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f){var l=r[f],h=i[f],s=h.length,p=zo(t.call(l,l&&l.__data__,f,r)),g=p.length,m=u[f]=new Array(g),y=a[f]=new Array(g),M=c[f]=new Array(s);e(l,h,m,y,M,p,n);for(var E=0,S=0,d,_;E<g;++E)if(d=m[E]){for(E>=S&&(S=E+1);!(_=y[S])&&++S<g;);d._next=_||null}}return a=new B(a,r),a._enter=u,a._exit=c,a}function zo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Do(){return new B(this._exit||this._groups.map(Gr),this._parents)}function Lo(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Ho(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var f=e[c],l=r[c],h=f.length,s=u[c]=new Array(h),p,g=0;g<h;++g)(p=f[g]||l[g])&&(s[g]=p);for(;c<i;++c)u[c]=e[c];return new B(u,this._parents)}function qo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Xo(t){t||(t=Oo);function n(h,s){return h&&s?t(h.__data__,s.__data__):!h-!s}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,c=i[o]=new Array(u),f,l=0;l<u;++l)(f=a[l])&&(c[l]=f);c.sort(n)}return new B(i,this._parents).order()}function Oo(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Vo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yo(){return Array.from(this)}function Uo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Bo(){let t=0;for(const n of this)++t;return t}function Go(){return!this.node()}function Wo(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function Zo(t){return function(){this.removeAttribute(t)}}function Jo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ko(t,n){return function(){this.setAttribute(t,n)}}function Qo(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function jo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function ta(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function na(t,n){var e=qn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Jo:Zo:typeof n=="function"?e.local?ta:jo:e.local?Qo:Ko)(e,n))}function Wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ea(t){return function(){this.style.removeProperty(t)}}function ra(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ia(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function oa(t,n,e){return arguments.length>1?this.each((n==null?ea:typeof n=="function"?ia:ra)(t,n,e??"")):kt(this.node(),t)}function kt(t,n){return t.style.getPropertyValue(n)||Wr(t).getComputedStyle(t,null).getPropertyValue(n)}function aa(t){return function(){delete this[t]}}function ua(t,n){return function(){this[t]=n}}function la(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function sa(t,n){return arguments.length>1?this.each((n==null?aa:typeof n=="function"?la:ua)(t,n)):this.node()[t]}function Zr(t){return t.trim().split(/^|\s+/)}function Pe(t){return t.classList||new Jr(t)}function Jr(t){this._node=t,this._names=Zr(t.getAttribute("class")||"")}Jr.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Kr(t,n){for(var e=Pe(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Qr(t,n){for(var e=Pe(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function fa(t){return function(){Kr(this,t)}}function ca(t){return function(){Qr(this,t)}}function ha(t,n){return function(){(n.apply(this,arguments)?Kr:Qr)(this,t)}}function pa(t,n){var e=Zr(t+"");if(arguments.length<2){for(var r=Pe(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?ha:n?fa:ca)(e,n))}function ga(){this.textContent=""}function da(t){return function(){this.textContent=t}}function ma(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function va(t){return arguments.length?this.each(t==null?ga:(typeof t=="function"?ma:da)(t)):this.node().textContent}function ya(){this.innerHTML=""}function wa(t){return function(){this.innerHTML=t}}function _a(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function xa(t){return arguments.length?this.each(t==null?ya:(typeof t=="function"?_a:wa)(t)):this.node().innerHTML}function Sa(){this.nextSibling&&this.parentNode.appendChild(this)}function Ea(){return this.each(Sa)}function Ma(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Na(){return this.each(Ma)}function Aa(t){var n=typeof t=="function"?t:Vr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function $a(){return null}function ka(t,n){var e=typeof t=="function"?t:Vr(t),r=n==null?$a:typeof n=="function"?n:Ce(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function ba(){var t=this.parentNode;t&&t.removeChild(this)}function Ra(){return this.each(ba)}function Ta(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ca(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Pa(t){return this.select(t?Ca:Ta)}function Ia(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fa(t){return function(n){t.call(this,n,this.__data__)}}function za(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Da(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function La(t,n,e){return function(){var r=this.__on,i,o=Fa(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Ha(t,n,e){var r=za(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,l;c<f;++c)for(i=0,l=u[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(u=n?La:Da,i=0;i<o;++i)this.each(u(r[i],n,e));return this}function jr(t,n,e){var r=Wr(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function qa(t,n){return function(){return jr(this,t,n)}}function Xa(t,n){return function(){return jr(this,t,n.apply(this,arguments))}}function Oa(t,n){return this.each((typeof n=="function"?Xa:qa)(t,n))}function*Va(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ti=[null];function B(t,n){this._groups=t,this._parents=n}function Kt(){return new B([[document.documentElement]],ti)}function Ya(){return this}B.prototype=Kt.prototype={constructor:B,select:mo,selectAll:_o,selectChild:Mo,selectChildren:ko,filter:bo,data:Fo,enter:Ro,exit:Do,join:Lo,merge:Ho,selection:Ya,order:qo,sort:Xo,call:Vo,nodes:Yo,node:Uo,size:Bo,empty:Go,each:Wo,attr:na,style:oa,property:sa,classed:pa,text:va,html:xa,raise:Ea,lower:Na,append:Aa,insert:ka,remove:Ra,clone:Pa,datum:Ia,on:Ha,dispatch:Oa,[Symbol.iterator]:Va};function U(t){return typeof t=="string"?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],ti)}function Ua(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Ze(t,n){if(t=Ua(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const Ba={passive:!1},Ut={capture:!0,passive:!1};function Bn(t){t.stopImmediatePropagation()}function At(t){t.preventDefault(),t.stopImmediatePropagation()}function Ga(t){var n=t.document.documentElement,e=U(t).on("dragstart.drag",At,Ut);"onselectstart"in n?e.on("selectstart.drag",At,Ut):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Wa(t,n){var e=t.document.documentElement,r=U(t).on("dragstart.drag",null);n&&(r.on("click.drag",At,Ut),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const an=t=>()=>t;function ae(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:c,dy:f,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:l}})}ae.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Za(t){return!t.ctrlKey&&!t.button}function Ja(){return this.parentNode}function Ka(t,n){return n??{x:t.x,y:t.y}}function Qa(){return navigator.maxTouchPoints||"ontouchstart"in this}function ja(){var t=Za,n=Ja,e=Ka,r=Qa,i={},o=Te("start","drag","end"),a=0,u,c,f,l,h=0;function s(d){d.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",M,Ba).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(d,_){if(!(l||!t.call(this,d,_))){var x=S(this,n.call(this,d,_),d,_,"mouse");x&&(U(d.view).on("mousemove.drag",g,Ut).on("mouseup.drag",m,Ut),Ga(d.view),Bn(d),f=!1,u=d.clientX,c=d.clientY,x("start",d))}}function g(d){if(At(d),!f){var _=d.clientX-u,x=d.clientY-c;f=_*_+x*x>h}i.mouse("drag",d)}function m(d){U(d.view).on("mousemove.drag mouseup.drag",null),Wa(d.view,f),At(d),i.mouse("end",d)}function y(d,_){if(t.call(this,d,_)){var x=d.changedTouches,N=n.call(this,d,_),A=x.length,$,R;for($=0;$<A;++$)(R=S(this,N,d,_,x[$].identifier,x[$]))&&(Bn(d),R("start",d,x[$]))}}function M(d){var _=d.changedTouches,x=_.length,N,A;for(N=0;N<x;++N)(A=i[_[N].identifier])&&(At(d),A("drag",d,_[N]))}function E(d){var _=d.changedTouches,x=_.length,N,A;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),N=0;N<x;++N)(A=i[_[N].identifier])&&(Bn(d),A("end",d,_[N]))}function S(d,_,x,N,A,$){var R=o.copy(),w=Ze($||x,_),I,b,T;if((T=e.call(d,new ae("beforestart",{sourceEvent:x,target:s,identifier:A,active:a,x:w[0],y:w[1],dx:0,dy:0,dispatch:R}),N))!=null)return I=T.x-w[0]||0,b=T.y-w[1]||0,function v(k,F,q){var D=w,at;switch(k){case"start":i[A]=v,at=a++;break;case"end":delete i[A],--a;case"drag":w=Ze(q||F,_),at=a;break}R.call(k,d,new ae(k,{sourceEvent:F,subject:T,target:s,identifier:A,active:at,x:w[0]+I,y:w[1]+b,dx:w[0]-D[0],dy:w[1]-D[1],dispatch:R}),N)}}return s.filter=function(d){return arguments.length?(t=typeof d=="function"?d:an(!!d),s):t},s.container=function(d){return arguments.length?(n=typeof d=="function"?d:an(d),s):n},s.subject=function(d){return arguments.length?(e=typeof d=="function"?d:an(d),s):e},s.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:an(!!d),s):r},s.on=function(){var d=o.on.apply(o,arguments);return d===o?s:d},s.clickDistance=function(d){return arguments.length?(h=(d=+d)*d,s):Math.sqrt(h)},s}function Ie(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ni(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Qt(){}var Bt=.7,Mn=1/Bt,$t="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tu=/^#([0-9a-f]{3,8})$/,nu=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),eu=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),ru=new RegExp(`^rgba\\(${$t},${$t},${$t},${Gt}\\)$`),iu=new RegExp(`^rgba\\(${it},${it},${it},${Gt}\\)$`),ou=new RegExp(`^hsl\\(${Gt},${it},${it}\\)$`),au=new RegExp(`^hsla\\(${Gt},${it},${it},${Gt}\\)$`),Je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ie(Qt,gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ke,formatHex:Ke,formatHex8:uu,formatHsl:lu,formatRgb:Qe,toString:Qe});function Ke(){return this.rgb().formatHex()}function uu(){return this.rgb().formatHex8()}function lu(){return ei(this).formatHsl()}function Qe(){return this.rgb().formatRgb()}function gt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=tu.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?je(n):e===3?new V(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?un(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?un(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=nu.exec(t))?new V(n[1],n[2],n[3],1):(n=eu.exec(t))?new V(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ru.exec(t))?un(n[1],n[2],n[3],n[4]):(n=iu.exec(t))?un(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ou.exec(t))?er(n[1],n[2]/100,n[3]/100,1):(n=au.exec(t))?er(n[1],n[2]/100,n[3]/100,n[4]):Je.hasOwnProperty(t)?je(Je[t]):t==="transparent"?new V(NaN,NaN,NaN,0):null}function je(t){return new V(t>>16&255,t>>8&255,t&255,1)}function un(t,n,e,r){return r<=0&&(t=n=e=NaN),new V(t,n,e,r)}function su(t){return t instanceof Qt||(t=gt(t)),t?(t=t.rgb(),new V(t.r,t.g,t.b,t.opacity)):new V}function ue(t,n,e,r){return arguments.length===1?su(t):new V(t,n,e,r??1)}function V(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ie(V,ue,ni(Qt,{brighter(t){return t=t==null?Mn:Math.pow(Mn,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new V(vt(this.r),vt(this.g),vt(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tr,formatHex:tr,formatHex8:fu,formatRgb:nr,toString:nr}));function tr(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function fu(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function nr(){const t=Nn(this.opacity);return`${t===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${t===1?")":`, ${t})`}`}function Nn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mt(t){return t=vt(t),(t<16?"0":"")+t.toString(16)}function er(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new tt(t,n,e,r)}function ei(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=gt(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(n===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-n)/u+2:a=(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new tt(a,u,c,t.opacity)}function cu(t,n,e,r){return arguments.length===1?ei(t):new tt(t,n,e,r??1)}function tt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ie(tt,cu,ni(Qt,{brighter(t){return t=t==null?Mn:Math.pow(Mn,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new V(Gn(t>=240?t-240:t+120,i,r),Gn(t,i,r),Gn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(rr(this.h),ln(this.s),ln(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nn(this.opacity);return`${t===1?"hsl(":"hsla("}${rr(this.h)}, ${ln(this.s)*100}%, ${ln(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rr(t){return t=(t||0)%360,t<0?t+360:t}function ln(t){return Math.max(0,Math.min(1,t||0))}function Gn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Fe=t=>()=>t;function hu(t,n){return function(e){return t+e*n}}function pu(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function gu(t){return(t=+t)==1?ri:function(n,e){return e-n?pu(n,e,t):Fe(isNaN(n)?e:n)}}function ri(t,n){var e=n-t;return e?hu(t,e):Fe(isNaN(t)?n:t)}const An=function t(n){var e=gu(n);function r(i,o){var a=e((i=ue(i)).r,(o=ue(o)).r),u=e(i.g,o.g),c=e(i.b,o.b),f=ri(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=u(l),i.b=c(l),i.opacity=f(l),i+""}}return r.gamma=t,r}(1);function du(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function mu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vu(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=ze(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function yu(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function j(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function wu(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=ze(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(le.source,"g");function _u(t){return function(){return t}}function xu(t){return function(n){return t(n)+""}}function ii(t,n){var e=le.lastIndex=Wn.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",n=n+"";(r=le.exec(t))&&(i=Wn.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:j(r,i)})),e=Wn.lastIndex;return e<n.length&&(o=n.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?xu(c[0].x):_u(n):(n=c.length,function(f){for(var l=0,h;l<n;++l)u[(h=c[l]).i]=h.x(f);return u.join("")})}function ze(t,n){var e=typeof n,r;return n==null||e==="boolean"?Fe(n):(e==="number"?j:e==="string"?(r=gt(n))?(n=r,An):ii:n instanceof gt?An:n instanceof Date?yu:mu(n)?du:Array.isArray(n)?vu:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?wu:j)(t,n)}function Su(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ir=180/Math.PI,se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oi(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ir,skewX:Math.atan(c)*ir,scaleX:a,scaleY:u}}var sn;function Eu(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?se:oi(n.a,n.b,n.c,n.d,n.e,n.f)}function Mu(t){return t==null||(sn||(sn=document.createElementNS("http://www.w3.org/2000/svg","g")),sn.setAttribute("transform",t),!(t=sn.transform.baseVal.consolidate()))?se:(t=t.matrix,oi(t.a,t.b,t.c,t.d,t.e,t.f))}function ai(t,n,e,r){function i(f){return f.length?f.pop()+" ":""}function o(f,l,h,s,p,g){if(f!==h||l!==s){var m=p.push("translate(",null,n,null,e);g.push({i:m-4,x:j(f,h)},{i:m-2,x:j(l,s)})}else(h||s)&&p.push("translate("+h+n+s+e)}function a(f,l,h,s){f!==l?(f-l>180?l+=360:l-f>180&&(f+=360),s.push({i:h.push(i(h)+"rotate(",null,r)-2,x:j(f,l)})):l&&h.push(i(h)+"rotate("+l+r)}function u(f,l,h,s){f!==l?s.push({i:h.push(i(h)+"skewX(",null,r)-2,x:j(f,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(f,l,h,s,p,g){if(f!==h||l!==s){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:j(f,h)},{i:m-2,x:j(l,s)})}else(h!==1||s!==1)&&p.push(i(p)+"scale("+h+","+s+")")}return function(f,l){var h=[],s=[];return f=t(f),l=t(l),o(f.translateX,f.translateY,l.translateX,l.translateY,h,s),a(f.rotate,l.rotate,h,s),u(f.skewX,l.skewX,h,s),c(f.scaleX,f.scaleY,l.scaleX,l.scaleY,h,s),f=l=null,function(p){for(var g=-1,m=s.length,y;++g<m;)h[(y=s[g]).i]=y.x(p);return h.join("")}}}var Nu=ai(Eu,"px, ","px)","deg)"),Au=ai(Mu,", ",")",")"),bt=0,Dt=0,Ft=0,ui=1e3,$n,Lt,kn=0,wt=0,Xn=0,Wt=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function De(){return wt||(li($u),wt=Wt.now()+Xn)}function $u(){wt=0}function bn(){this._call=this._time=this._next=null}bn.prototype=si.prototype={constructor:bn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?De():+e)+(n==null?0:+n),!this._next&&Lt!==this&&(Lt?Lt._next=this:$n=this,Lt=this),this._call=t,this._time=e,fe()},stop:function(){this._call&&(this._call=null,this._time=1/0,fe())}};function si(t,n,e){var r=new bn;return r.restart(t,n,e),r}function ku(){De(),++bt;for(var t=$n,n;t;)(n=wt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--bt}function or(){wt=(kn=Wt.now())+Xn,bt=Dt=0;try{ku()}finally{bt=0,Ru(),wt=0}}function bu(){var t=Wt.now(),n=t-kn;n>ui&&(Xn-=n,kn=t)}function Ru(){for(var t,n=$n,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:$n=e);Lt=t,fe(r)}function fe(t){if(!bt){Dt&&(Dt=clearTimeout(Dt));var n=t-wt;n>24?(t<1/0&&(Dt=setTimeout(or,t-Wt.now()-Xn)),Ft&&(Ft=clearInterval(Ft))):(Ft||(kn=Wt.now(),Ft=setInterval(bu,ui)),bt=1,li(or))}}function ar(t,n,e){var r=new bn;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Tu=Te("start","end","cancel","interrupt"),Cu=[],fi=0,ur=1,ce=2,yn=3,lr=4,he=5,wn=6;function On(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Pu(t,e,{name:n,index:r,group:i,on:Tu,tween:Cu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fi})}function Le(t,n){var e=nt(t,n);if(e.state>fi)throw new Error("too late; already scheduled");return e}function ot(t,n){var e=nt(t,n);if(e.state>yn)throw new Error("too late; already running");return e}function nt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pu(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=si(o,0,e.time);function o(f){e.state=ur,e.timer.restart(a,e.delay,e.time),e.delay<=f&&a(f-e.delay)}function a(f){var l,h,s,p;if(e.state!==ur)return c();for(l in r)if(p=r[l],p.name===e.name){if(p.state===yn)return ar(a);p.state===lr?(p.state=wn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[l]):+l<n&&(p.state=wn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[l])}if(ar(function(){e.state===yn&&(e.state=lr,e.timer.restart(u,e.delay,e.time),u(f))}),e.state=ce,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ce){for(e.state=yn,i=new Array(s=e.tween.length),l=0,h=-1;l<s;++l)(p=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function u(f){for(var l=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(c),e.state=he,1),h=-1,s=i.length;++h<s;)i[h].call(t,l);e.state===he&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=wn,e.timer.stop(),delete r[n];for(var f in r)return;delete t.__transition}}function Iu(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>ce&&r.state<he,r.state=wn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function Fu(t){return this.each(function(){Iu(this,t)})}function zu(t,n){var e,r;return function(){var i=ot(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Du(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=ot(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=u;break}c===f&&i.push(u)}o.tween=i}}function Lu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=nt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?zu:Du)(e,t,n))}function He(t,n,e){var r=t._id;return t.each(function(){var i=ot(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return nt(i,r).value[n]}}function ci(t,n){var e;return(typeof n=="number"?j:n instanceof gt?An:(e=gt(n))?(n=e,An):ii)(t,n)}function Hu(t){return function(){this.removeAttribute(t)}}function qu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xu(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Ou(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Vu(t,n,e){var r,i,o;return function(){var a,u=e(this),c;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=u+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u)))}}function Yu(t,n,e){var r,i,o;return function(){var a,u=e(this),c;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=u+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u)))}}function Uu(t,n){var e=qn(t),r=e==="transform"?Au:ci;return this.attrTween(t,typeof n=="function"?(e.local?Yu:Vu)(e,r,He(this,"attr."+t,n)):n==null?(e.local?qu:Hu)(e):(e.local?Ou:Xu)(e,r,n))}function Bu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Gu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Wu(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Gu(t,o)),e}return i._value=n,i}function Zu(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Bu(t,o)),e}return i._value=n,i}function Ju(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=qn(t);return this.tween(e,(r.local?Wu:Zu)(r,n))}function Ku(t,n){return function(){Le(this,t).delay=+n.apply(this,arguments)}}function Qu(t,n){return n=+n,function(){Le(this,t).delay=n}}function ju(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ku:Qu)(n,t)):nt(this.node(),n).delay}function tl(t,n){return function(){ot(this,t).duration=+n.apply(this,arguments)}}function nl(t,n){return n=+n,function(){ot(this,t).duration=n}}function el(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?tl:nl)(n,t)):nt(this.node(),n).duration}function rl(t,n){if(typeof n!="function")throw new Error;return function(){ot(this,t).ease=n}}function il(t){var n=this._id;return arguments.length?this.each(rl(n,t)):nt(this.node(),n).ease}function ol(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ot(this,t).ease=e}}function al(t){if(typeof t!="function")throw new Error;return this.each(ol(this._id,t))}function ul(t){typeof t!="function"&&(t=Ur(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],c,f=0;f<a;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&u.push(c);return new ht(r,this._parents,this._name,this._id)}function ll(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),s,p=0;p<l;++p)(s=c[p]||f[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new ht(a,this._parents,this._name,this._id)}function sl(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function fl(t,n,e){var r,i,o=sl(n)?Le:ot;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function cl(t,n){var e=this._id;return arguments.length<2?nt(this.node(),e).on.on(t):this.each(fl(e,t,n))}function hl(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function pl(){return this.on("end.remove",hl(this._id))}function gl(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ce(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],c=u.length,f=o[a]=new Array(c),l,h,s=0;s<c;++s)(l=u[s])&&(h=t.call(l,l.__data__,s,u))&&("__data__"in l&&(h.__data__=l.__data__),f[s]=h,On(f[s],n,e,s,f,nt(l,e)));return new ht(o,this._parents,n,e)}function dl(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Yr(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c=r[u],f=c.length,l,h=0;h<f;++h)if(l=c[h]){for(var s=t.call(l,l.__data__,h,c),p,g=nt(l,e),m=0,y=s.length;m<y;++m)(p=s[m])&&On(p,n,e,m,s,g);o.push(s),a.push(l)}return new ht(o,a,n,e)}var ml=Kt.prototype.constructor;function vl(){return new ml(this._groups,this._parents)}function yl(t,n){var e,r,i;return function(){var o=kt(this,t),a=(this.style.removeProperty(t),kt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function hi(t){return function(){this.style.removeProperty(t)}}function wl(t,n,e){var r,i=e+"",o;return function(){var a=kt(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function _l(t,n,e){var r,i,o;return function(){var a=kt(this,t),u=e(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(t),kt(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}function xl(t,n){var e,r,i,o="style."+n,a="end."+o,u;return function(){var c=ot(this,t),f=c.on,l=c.value[o]==null?u||(u=hi(n)):void 0;(f!==e||i!==l)&&(r=(e=f).copy()).on(a,i=l),c.on=r}}function Sl(t,n,e){var r=(t+="")=="transform"?Nu:ci;return n==null?this.styleTween(t,yl(t,r)).on("end.style."+t,hi(t)):typeof n=="function"?this.styleTween(t,_l(t,r,He(this,"style."+t,n))).each(xl(this._id,t)):this.styleTween(t,wl(t,r,n),e).on("end.style."+t,null)}function El(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ml(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&El(t,a,e)),r}return o._value=n,o}function Nl(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Ml(t,n,e??""))}function Al(t){return function(){this.textContent=t}}function $l(t){return function(){var n=t(this);this.textContent=n??""}}function kl(t){return this.tween("text",typeof t=="function"?$l(He(this,"text",t)):Al(t==null?"":t+""))}function bl(t){return function(n){this.textContent=t.call(this,n)}}function Rl(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&bl(i)),n}return r._value=t,r}function Tl(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Rl(t))}function Cl(){for(var t=this._name,n=this._id,e=pi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,c,f=0;f<u;++f)if(c=a[f]){var l=nt(c,n);On(c,t,e,f,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ht(r,this._parents,t,e)}function Pl(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var f=ot(this,r),l=f.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),f.on=n}),i===0&&o()})}var Il=0;function ht(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function pi(){return++Il}var ft=Kt.prototype;ht.prototype={constructor:ht,select:gl,selectAll:dl,selectChild:ft.selectChild,selectChildren:ft.selectChildren,filter:ul,merge:ll,selection:vl,transition:Cl,call:ft.call,nodes:ft.nodes,node:ft.node,size:ft.size,empty:ft.empty,each:ft.each,on:cl,attr:Uu,attrTween:Ju,style:Sl,styleTween:Nl,text:kl,textTween:Tl,remove:pl,tween:Lu,delay:ju,duration:el,ease:il,easeVarying:al,end:Pl,[Symbol.iterator]:ft[Symbol.iterator]};function Fl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zl={time:null,delay:0,duration:250,ease:Fl};function Dl(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Ll(t){var n,e;t instanceof ht?(n=t._id,t=t._name):(n=pi(),(e=zl).time=De(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,c,f=0;f<u;++f)(c=a[f])&&On(c,t,n,f,a,e||Dl(c,n));return new ht(r,this._parents,t,n)}Kt.prototype.interrupt=Fu;Kt.prototype.transition=Ll;var sr={},Zn={},Jn=34,zt=10,Kn=13;function gi(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Hl(t,n){var e=gi(t);return function(r,i){return n(e(r),i,t)}}function fr(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function O(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ql(t){return t<0?"-"+O(-t,6):t>9999?"+"+O(t,6):O(t,4)}function Xl(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ql(t.getUTCFullYear())+"-"+O(t.getUTCMonth()+1,2)+"-"+O(t.getUTCDate(),2)+(i?"T"+O(n,2)+":"+O(e,2)+":"+O(r,2)+"."+O(i,3)+"Z":r?"T"+O(n,2)+":"+O(e,2)+":"+O(r,2)+"Z":e||n?"T"+O(n,2)+":"+O(e,2)+"Z":"")}function Ol(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(h,s){var p,g,m=i(h,function(y,M){if(p)return p(y,M-1);g=y,p=s?Hl(y,s):gi(y)});return m.columns=g||[],m}function i(h,s){var p=[],g=h.length,m=0,y=0,M,E=g<=0,S=!1;h.charCodeAt(g-1)===zt&&--g,h.charCodeAt(g-1)===Kn&&--g;function d(){if(E)return Zn;if(S)return S=!1,sr;var x,N=m,A;if(h.charCodeAt(N)===Jn){for(;m++<g&&h.charCodeAt(m)!==Jn||h.charCodeAt(++m)===Jn;);return(x=m)>=g?E=!0:(A=h.charCodeAt(m++))===zt?S=!0:A===Kn&&(S=!0,h.charCodeAt(m)===zt&&++m),h.slice(N+1,x-1).replace(/""/g,'"')}for(;m<g;){if((A=h.charCodeAt(x=m++))===zt)S=!0;else if(A===Kn)S=!0,h.charCodeAt(m)===zt&&++m;else if(A!==e)continue;return h.slice(N,x)}return E=!0,h.slice(N,g)}for(;(M=d())!==Zn;){for(var _=[];M!==sr&&M!==Zn;)_.push(M),M=d();s&&(_=s(_,y++))==null||p.push(_)}return p}function o(h,s){return h.map(function(p){return s.map(function(g){return l(p[g])}).join(t)})}function a(h,s){return s==null&&(s=fr(h)),[s.map(l).join(t)].concat(o(h,s)).join(`
`)}function u(h,s){return s==null&&(s=fr(h)),o(h,s).join(`
`)}function c(h){return h.map(f).join(`
`)}function f(h){return h.map(l).join(t)}function l(h){return h==null?"":h instanceof Date?Xl(h):n.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:c,formatRow:f,formatValue:l}}var Vl=Ol(","),Yl=Vl.parse;function Ul(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Bl(t,n){return fetch(t,n).then(Ul)}function Gl(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),Bl(n,e).then(function(i){return t(i,r)})}}var Wl=Gl(Yl);function Zl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Jl(t,n){return fetch(t,n).then(Zl)}function Kl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Rt(t){return t=Rn(Math.abs(t)),t?t[1]:NaN}function Ql(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}function jl(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var ts=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tn(t){if(!(n=ts.exec(t)))throw new Error("invalid format: "+t);var n;return new qe({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Tn.prototype=qe.prototype;function qe(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ns(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var di;function es(t,n){var e=Rn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(di=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rn(t,Math.max(0,n+o-1))[0]}function cr(t,n){var e=Rn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hr={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kl,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>cr(t*100,n),r:cr,s:es,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pr(t){return t}var gr=Array.prototype.map,dr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rs(t){var n=t.grouping===void 0||t.thousands===void 0?pr:Ql(gr.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?pr:jl(gr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(h){h=Tn(h);var s=h.fill,p=h.align,g=h.sign,m=h.symbol,y=h.zero,M=h.width,E=h.comma,S=h.precision,d=h.trim,_=h.type;_==="n"?(E=!0,_="g"):hr[_]||(S===void 0&&(S=12),d=!0,_="g"),(y||s==="0"&&p==="=")&&(y=!0,s="0",p="=");var x=m==="$"?e:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=m==="$"?r:/[%p]/.test(_)?a:"",A=hr[_],$=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(w){var I=x,b=N,T,v,k;if(_==="c")b=A(w)+b,w="";else{w=+w;var F=w<0||1/w<0;if(w=isNaN(w)?c:A(Math.abs(w),S),d&&(w=ns(w)),F&&+w==0&&g!=="+"&&(F=!1),I=(F?g==="("?g:u:g==="-"||g==="("?"":g)+I,b=(_==="s"?dr[8+di/3]:"")+b+(F&&g==="("?")":""),$){for(T=-1,v=w.length;++T<v;)if(k=w.charCodeAt(T),48>k||k>57){b=(k===46?i+w.slice(T+1):w.slice(T))+b,w=w.slice(0,T);break}}}E&&!y&&(w=n(w,1/0));var q=I.length+w.length+b.length,D=q<M?new Array(M-q+1).join(s):"";switch(E&&y&&(w=n(D+w,D.length?M-b.length:1/0),D=""),p){case"<":w=I+w+b+D;break;case"=":w=I+D+w+b;break;case"^":w=D.slice(0,q=D.length>>1)+I+w+b+D.slice(q);break;default:w=D+I+w+b;break}return o(w)}return R.toString=function(){return h+""},R}function l(h,s){var p=f((h=Tn(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Rt(s)/3)))*3,m=Math.pow(10,-g),y=dr[8+g/3];return function(M){return p(m*M)+y}}return{format:f,formatPrefix:l}}var fn,mi,vi;is({thousands:",",grouping:[3],currency:["$",""]});function is(t){return fn=rs(t),mi=fn.format,vi=fn.formatPrefix,fn}function os(t){return Math.max(0,-Rt(Math.abs(t)))}function as(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rt(n)/3)))*3-Rt(Math.abs(t)))}function us(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Rt(n)-Rt(t))+1}var P=1e-6,ls=1e-12,C=Math.PI,Z=C/2,mr=C/4,K=C*2,Q=180/C,X=C/180,L=Math.abs,ss=Math.atan,Tt=Math.atan2,H=Math.cos,z=Math.sin,_n=Math.sign||function(t){return t>0?1:t<0?-1:0},pt=Math.sqrt;function fs(t){return t>1?0:t<-1?C:Math.acos(t)}function _t(t){return t>1?Z:t<-1?-Z:Math.asin(t)}function J(){}function Cn(t,n){t&&yr.hasOwnProperty(t.type)&&yr[t.type](t,n)}var vr={Feature:function(t,n){Cn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Cn(e[r].geometry,n)}},yr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){pe(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)pe(e[r],n,0)},Polygon:function(t,n){wr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)wr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Cn(e[r],n)}};function pe(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function wr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)pe(t[e],n,1);n.polygonEnd()}function Et(t,n){t&&vr.hasOwnProperty(t.type)?vr[t.type](t,n):Cn(t,n)}function ge(t){return[Tt(t[1],t[0]),_t(t[2])]}function Ct(t){var n=t[0],e=t[1],r=H(e);return[r*H(n),r*z(n),z(e)]}function cn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Qn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function de(t){var n=pt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function me(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function ve(t,n){return L(t)>C&&(t-=Math.round(t/K)*K),[t,n]}ve.invert=ve;function cs(t,n,e){return(t%=K)?n||e?me(xr(t),Sr(n,e)):xr(t):n||e?Sr(n,e):ve}function _r(t){return function(n,e){return n+=t,L(n)>C&&(n-=Math.round(n/K)*K),[n,e]}}function xr(t){var n=_r(t);return n.invert=_r(-t),n}function Sr(t,n){var e=H(t),r=z(t),i=H(n),o=z(n);function a(u,c){var f=H(c),l=H(u)*f,h=z(u)*f,s=z(c),p=s*e+l*r;return[Tt(h*i-p*o,l*e-s*r),_t(p*i+h*o)]}return a.invert=function(u,c){var f=H(c),l=H(u)*f,h=z(u)*f,s=z(c),p=s*i-h*o;return[Tt(h*i+s*o,l*e+p*r),_t(p*e-l*r)]},a}function hs(t,n,e,r,i,o){if(e){var a=H(n),u=z(n),c=r*e;i==null?(i=n+r*K,o=n-c/2):(i=Er(a,i),o=Er(a,o),(r>0?i<o:i>o)&&(i+=r*K));for(var f,l=i;r>0?l>o:l<o;l-=c)f=ge([a,-u*H(l),-u*z(l)]),t.point(f[0],f[1])}}function Er(t,n){n=Ct(n),n[0]-=t,de(n);var e=fs(-n[1]);return((-n[2]<0?-e:e)+K-P)%K}function yi(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:J,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function xn(t,n){return L(t[0]-n[0])<P&&L(t[1]-n[1])<P}function pn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function wi(t,n,e,r,i){var o=[],a=[],u,c;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,y=g[0],M=g[m],E;if(xn(y,M)){if(!y[2]&&!M[2]){for(i.lineStart(),u=0;u<m;++u)i.point((y=g[u])[0],y[1]);i.lineEnd();return}M[0]+=2*P}o.push(E=new pn(y,g,null,!0)),a.push(E.o=new pn(y,null,E,!1)),o.push(E=new pn(M,g,null,!1)),a.push(E.o=new pn(M,null,E,!0))}}),!!o.length){for(a.sort(n),Mr(o),Mr(a),u=0,c=a.length;u<c;++u)a[u].e=e=!e;for(var f=o[0],l,h;;){for(var s=f,p=!0;s.v;)if((s=s.n)===f)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(p)for(u=0,c=l.length;u<c;++u)i.point((h=l[u])[0],h[1]);else r(s.x,s.n.x,1,i);s=s.n}else{if(p)for(l=s.p.z,u=l.length-1;u>=0;--u)i.point((h=l[u])[0],h[1]);else r(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,p=!p}while(!s.v);i.lineEnd()}}}function Mr(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function jn(t){return L(t[0])<=C?t[0]:_n(t[0])*((L(t[0])+C)%K-C)}function ps(t,n){var e=jn(n),r=n[1],i=z(r),o=[z(e),-H(e),0],a=0,u=0,c=new yt;i===1?r=Z+P:i===-1&&(r=-Z-P);for(var f=0,l=t.length;f<l;++f)if(s=(h=t[f]).length)for(var h,s,p=h[s-1],g=jn(p),m=p[1]/2+mr,y=z(m),M=H(m),E=0;E<s;++E,g=d,y=x,M=N,p=S){var S=h[E],d=jn(S),_=S[1]/2+mr,x=z(_),N=H(_),A=d-g,$=A>=0?1:-1,R=$*A,w=R>C,I=y*x;if(c.add(Tt(I*$*z(R),M*N+I*H(R))),a+=w?A+$*K:A,w^g>=e^d>=e){var b=Pn(Ct(p),Ct(S));de(b);var T=Pn(o,b);de(T);var v=(w^A>=0?-1:1)*_t(T[2]);(r>v||r===v&&(b[0]||b[1]))&&(u+=w^A>=0?1:-1)}}return(a<-P||a<P&&c<-ls)^u&1}function _i(t,n,e,r){return function(i){var o=n(i),a=yi(),u=n(a),c=!1,f,l,h,s={point:p,lineStart:m,lineEnd:y,polygonStart:function(){s.point=M,s.lineStart=E,s.lineEnd=S,l=[],f=[]},polygonEnd:function(){s.point=p,s.lineStart=m,s.lineEnd=y,l=Or(l);var d=ps(f,r);l.length?(c||(i.polygonStart(),c=!0),wi(l,ds,d,e,i)):d&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=f=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(d,_){t(d,_)&&i.point(d,_)}function g(d,_){o.point(d,_)}function m(){s.point=g,o.lineStart()}function y(){s.point=p,o.lineEnd()}function M(d,_){h.push([d,_]),u.point(d,_)}function E(){u.lineStart(),h=[]}function S(){M(h[0][0],h[0][1]),u.lineEnd();var d=u.clean(),_=a.result(),x,N=_.length,A,$,R;if(h.pop(),f.push(h),h=null,!!N){if(d&1){if($=_[0],(A=$.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<A;++x)i.point((R=$[x])[0],R[1]);i.lineEnd()}return}N>1&&d&2&&_.push(_.pop().concat(_.shift())),l.push(_.filter(gs))}}return s}}function gs(t){return t.length>1}function ds(t,n){return((t=t.x)[0]<0?t[1]-Z-P:Z-t[1])-((n=n.x)[0]<0?n[1]-Z-P:Z-n[1])}const Nr=_i(function(){return!0},ms,ys,[-C,-Z]);function ms(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var u=o>0?C:-C,c=L(o-n);L(c-C)<P?(t.point(n,e=(e+a)/2>0?Z:-Z),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),i=0):r!==u&&c>=C&&(L(n-r)<P&&(n-=r*P),L(o-u)<P&&(o-=u*P),e=vs(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),i=0),t.point(n=o,e=a),r=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function vs(t,n,e,r){var i,o,a=z(t-e);return L(a)>P?ss((z(n)*(o=H(r))*z(e)-z(r)*(i=H(n))*z(t))/(i*o*a)):(n+r)/2}function ys(t,n,e,r){var i;if(t==null)i=e*Z,r.point(-C,i),r.point(0,i),r.point(C,i),r.point(C,0),r.point(C,-i),r.point(0,-i),r.point(-C,-i),r.point(-C,0),r.point(-C,i);else if(L(t[0]-n[0])>P){var o=t[0]<n[0]?C:-C;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function ws(t){var n=H(t),e=6*X,r=n>0,i=L(n)>P;function o(l,h,s,p){hs(p,t,e,s,l,h)}function a(l,h){return H(l)*H(h)>n}function u(l){var h,s,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(y,M){var E=[y,M],S,d=a(y,M),_=r?d?0:f(y,M):d?f(y+(y<0?C:-C),M):0;if(!h&&(g=p=d)&&l.lineStart(),d!==p&&(S=c(h,E),(!S||xn(h,S)||xn(E,S))&&(E[2]=1)),d!==p)m=0,d?(l.lineStart(),S=c(E,h),l.point(S[0],S[1])):(S=c(h,E),l.point(S[0],S[1],2),l.lineEnd()),h=S;else if(i&&h&&r^d){var x;!(_&s)&&(x=c(E,h,!0))&&(m=0,r?(l.lineStart(),l.point(x[0][0],x[0][1]),l.point(x[1][0],x[1][1]),l.lineEnd()):(l.point(x[1][0],x[1][1]),l.lineEnd(),l.lineStart(),l.point(x[0][0],x[0][1],3)))}d&&(!h||!xn(h,E))&&l.point(E[0],E[1]),h=E,p=d,s=_},lineEnd:function(){p&&l.lineEnd(),h=null},clean:function(){return m|(g&&p)<<1}}}function c(l,h,s){var p=Ct(l),g=Ct(h),m=[1,0,0],y=Pn(p,g),M=cn(y,y),E=y[0],S=M-E*E;if(!S)return!s&&l;var d=n*M/S,_=-n*E/S,x=Pn(m,y),N=hn(m,d),A=hn(y,_);Qn(N,A);var $=x,R=cn(N,$),w=cn($,$),I=R*R-w*(cn(N,N)-1);if(!(I<0)){var b=pt(I),T=hn($,(-R-b)/w);if(Qn(T,N),T=ge(T),!s)return T;var v=l[0],k=h[0],F=l[1],q=h[1],D;k<v&&(D=v,v=k,k=D);var at=k-v,ut=L(at-C)<P,dt=ut||at<P;if(!ut&&q<F&&(D=F,F=q,q=D),dt?ut?F+q>0^T[1]<(L(T[0]-v)<P?F:q):F<=T[1]&&T[1]<=q:at>C^(v<=T[0]&&T[0]<=k)){var lt=hn($,(-R+b)/w);return Qn(lt,N),[T,ge(lt)]}}}function f(l,h){var s=r?t:C-t,p=0;return l<-s?p|=1:l>s&&(p|=2),h<-s?p|=4:h>s&&(p|=8),p}return _i(a,u,o,r?[0,-t]:[-C,t-C])}function _s(t,n,e,r,i,o){var a=t[0],u=t[1],c=n[0],f=n[1],l=0,h=1,s=c-a,p=f-u,g;if(g=e-a,!(!s&&g>0)){if(g/=s,s<0){if(g<l)return;g<h&&(h=g)}else if(s>0){if(g>h)return;g>l&&(l=g)}if(g=i-a,!(!s&&g<0)){if(g/=s,s<0){if(g>h)return;g>l&&(l=g)}else if(s>0){if(g<l)return;g<h&&(h=g)}if(g=r-u,!(!p&&g>0)){if(g/=p,p<0){if(g<l)return;g<h&&(h=g)}else if(p>0){if(g>h)return;g>l&&(l=g)}if(g=o-u,!(!p&&g<0)){if(g/=p,p<0){if(g>h)return;g>l&&(l=g)}else if(p>0){if(g<l)return;g<h&&(h=g)}return l>0&&(t[0]=a+l*s,t[1]=u+l*p),h<1&&(n[0]=a+h*s,n[1]=u+h*p),!0}}}}}var Ht=1e9,gn=-Ht;function xs(t,n,e,r){function i(f,l){return t<=f&&f<=e&&n<=l&&l<=r}function o(f,l,h,s){var p=0,g=0;if(f==null||(p=a(f,h))!==(g=a(l,h))||c(f,l)<0^h>0)do s.point(p===0||p===3?t:e,p>1?r:n);while((p=(p+h+4)%4)!==g);else s.point(l[0],l[1])}function a(f,l){return L(f[0]-t)<P?l>0?0:3:L(f[0]-e)<P?l>0?2:1:L(f[1]-n)<P?l>0?1:0:l>0?3:2}function u(f,l){return c(f.x,l.x)}function c(f,l){var h=a(f,1),s=a(l,1);return h!==s?h-s:h===0?l[1]-f[1]:h===1?f[0]-l[0]:h===2?f[1]-l[1]:l[0]-f[0]}return function(f){var l=f,h=yi(),s,p,g,m,y,M,E,S,d,_,x,N={point:A,lineStart:I,lineEnd:b,polygonStart:R,polygonEnd:w};function A(v,k){i(v,k)&&l.point(v,k)}function $(){for(var v=0,k=0,F=p.length;k<F;++k)for(var q=p[k],D=1,at=q.length,ut=q[0],dt,lt,jt=ut[0],St=ut[1];D<at;++D)dt=jt,lt=St,ut=q[D],jt=ut[0],St=ut[1],lt<=r?St>r&&(jt-dt)*(r-lt)>(St-lt)*(t-dt)&&++v:St<=r&&(jt-dt)*(r-lt)<(St-lt)*(t-dt)&&--v;return v}function R(){l=h,s=[],p=[],x=!0}function w(){var v=$(),k=x&&v,F=(s=Or(s)).length;(k||F)&&(f.polygonStart(),k&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),F&&wi(s,u,v,o,f),f.polygonEnd()),l=f,s=p=g=null}function I(){N.point=T,p&&p.push(g=[]),_=!0,d=!1,E=S=NaN}function b(){s&&(T(m,y),M&&d&&h.rejoin(),s.push(h.result())),N.point=A,d&&l.lineEnd()}function T(v,k){var F=i(v,k);if(p&&g.push([v,k]),_)m=v,y=k,M=F,_=!1,F&&(l.lineStart(),l.point(v,k));else if(F&&d)l.point(v,k);else{var q=[E=Math.max(gn,Math.min(Ht,E)),S=Math.max(gn,Math.min(Ht,S))],D=[v=Math.max(gn,Math.min(Ht,v)),k=Math.max(gn,Math.min(Ht,k))];_s(q,D,t,n,e,r)?(d||(l.lineStart(),l.point(q[0],q[1])),l.point(D[0],D[1]),F||l.lineEnd(),x=!1):F&&(l.lineStart(),l.point(v,k),x=!1)}E=v,S=k,d=F}return N}}const ye=t=>t;var te=new yt,we=new yt,xi,Si,_e,xe,ct={point:J,lineStart:J,lineEnd:J,polygonStart:function(){ct.lineStart=Ss,ct.lineEnd=Ms},polygonEnd:function(){ct.lineStart=ct.lineEnd=ct.point=J,te.add(L(we)),we=new yt},result:function(){var t=te/2;return te=new yt,t}};function Ss(){ct.point=Es}function Es(t,n){ct.point=Ei,xi=_e=t,Si=xe=n}function Ei(t,n){we.add(xe*t-_e*n),_e=t,xe=n}function Ms(){Ei(xi,Si)}var Pt=1/0,In=Pt,Zt=-Pt,Fn=Zt,zn={point:Ns,lineStart:J,lineEnd:J,polygonStart:J,polygonEnd:J,result:function(){var t=[[Pt,In],[Zt,Fn]];return Zt=Fn=-(In=Pt=1/0),t}};function Ns(t,n){t<Pt&&(Pt=t),t>Zt&&(Zt=t),n<In&&(In=n),n>Fn&&(Fn=n)}var Se=0,Ee=0,qt=0,Dn=0,Ln=0,Mt=0,Me=0,Ne=0,Xt=0,Mi,Ni,et,rt,W={point:xt,lineStart:Ar,lineEnd:$r,polygonStart:function(){W.lineStart=ks,W.lineEnd=bs},polygonEnd:function(){W.point=xt,W.lineStart=Ar,W.lineEnd=$r},result:function(){var t=Xt?[Me/Xt,Ne/Xt]:Mt?[Dn/Mt,Ln/Mt]:qt?[Se/qt,Ee/qt]:[NaN,NaN];return Se=Ee=qt=Dn=Ln=Mt=Me=Ne=Xt=0,t}};function xt(t,n){Se+=t,Ee+=n,++qt}function Ar(){W.point=As}function As(t,n){W.point=$s,xt(et=t,rt=n)}function $s(t,n){var e=t-et,r=n-rt,i=pt(e*e+r*r);Dn+=i*(et+t)/2,Ln+=i*(rt+n)/2,Mt+=i,xt(et=t,rt=n)}function $r(){W.point=xt}function ks(){W.point=Rs}function bs(){Ai(Mi,Ni)}function Rs(t,n){W.point=Ai,xt(Mi=et=t,Ni=rt=n)}function Ai(t,n){var e=t-et,r=n-rt,i=pt(e*e+r*r);Dn+=i*(et+t)/2,Ln+=i*(rt+n)/2,Mt+=i,i=rt*t-et*n,Me+=i*(et+t),Ne+=i*(rt+n),Xt+=i*3,xt(et=t,rt=n)}function $i(t){this._context=t}$i.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,K);break}}},result:J};var Ae=new yt,ne,ki,bi,Ot,Vt,Jt={point:J,lineStart:function(){Jt.point=Ts},lineEnd:function(){ne&&Ri(ki,bi),Jt.point=J},polygonStart:function(){ne=!0},polygonEnd:function(){ne=null},result:function(){var t=+Ae;return Ae=new yt,t}};function Ts(t,n){Jt.point=Ri,ki=Ot=t,bi=Vt=n}function Ri(t,n){Ot-=t,Vt-=n,Ae.add(pt(Ot*Ot+Vt*Vt)),Ot=t,Vt=n}let kr,Hn,br,Rr;class Tr{constructor(n){this._append=n==null?Ti:Cs(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==br||this._append!==Hn){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,br=r,Hn=this._append,Rr=this._,this._=i}this._+=Rr;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ti(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Cs(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ti;if(n!==kr){const e=10**n;kr=n,Hn=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Hn}function Ps(t,n){let e=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Et(u,i(o))),o.result()}return a.area=function(u){return Et(u,i(ct)),ct.result()},a.measure=function(u){return Et(u,i(Jt)),Jt.result()},a.bounds=function(u){return Et(u,i(zn)),zn.result()},a.centroid=function(u){return Et(u,i(W)),W.result()},a.projection=function(u){return arguments.length?(i=u==null?(t=null,ye):(t=u).stream,a):t},a.context=function(u){return arguments.length?(o=u==null?(n=null,new Tr(e)):new $i(n=u),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);e=c}return n===null&&(o=new Tr(e)),a},a.projection(t).digits(e).context(n)}function Xe(t){return function(n){var e=new $e;for(var r in t)e[r]=t[r];return e.stream=n,e}}function $e(){}$e.prototype={constructor:$e,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Oe(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Et(e,t.stream(zn)),n(zn.result()),r!=null&&t.clipExtent(r),t}function Ve(t,n,e){return Oe(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([u,c])},e)}function Ci(t,n,e){return Ve(t,[[0,0],n],e)}function Pi(t,n,e){return Oe(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];t.scale(150*o).translate([a,u])},e)}function Ii(t,n,e){return Oe(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,u])},e)}var Cr=16,Is=H(30*X);function Pr(t,n){return+n?zs(t,n):Fs(t)}function Fs(t){return Xe({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function zs(t,n){function e(r,i,o,a,u,c,f,l,h,s,p,g,m,y){var M=f-r,E=l-i,S=M*M+E*E;if(S>4*n&&m--){var d=a+s,_=u+p,x=c+g,N=pt(d*d+_*_+x*x),A=_t(x/=N),$=L(L(x)-1)<P||L(o-h)<P?(o+h)/2:Tt(_,d),R=t($,A),w=R[0],I=R[1],b=w-r,T=I-i,v=E*b-M*T;(v*v/S>n||L((M*b+E*T)/S-.5)>.3||a*s+u*p+c*g<Is)&&(e(r,i,o,a,u,c,w,I,$,d/=N,_/=N,x,m,y),y.point(w,I),e(w,I,$,d,_,x,f,l,h,s,p,g,m,y))}}return function(r){var i,o,a,u,c,f,l,h,s,p,g,m,y={point:M,lineStart:E,lineEnd:d,polygonStart:function(){r.polygonStart(),y.lineStart=_},polygonEnd:function(){r.polygonEnd(),y.lineStart=E}};function M(A,$){A=t(A,$),r.point(A[0],A[1])}function E(){h=NaN,y.point=S,r.lineStart()}function S(A,$){var R=Ct([A,$]),w=t(A,$);e(h,s,l,p,g,m,h=w[0],s=w[1],l=A,p=R[0],g=R[1],m=R[2],Cr,r),r.point(h,s)}function d(){y.point=M,r.lineEnd()}function _(){E(),y.point=x,y.lineEnd=N}function x(A,$){S(i=A,$),o=h,a=s,u=p,c=g,f=m,y.point=S}function N(){e(h,s,l,p,g,m,o,a,i,u,c,f,Cr,r),y.lineEnd=d,d()}return y}}var Ds=Xe({point:function(t,n){this.stream.point(t*X,n*X)}});function Ls(t){return Xe({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Hs(t,n,e,r,i){function o(a,u){return a*=r,u*=i,[n+t*a,e-t*u]}return o.invert=function(a,u){return[(a-n)/t*r,(e-u)/t*i]},o}function Ir(t,n,e,r,i,o){if(!o)return Hs(t,n,e,r,i);var a=H(o),u=z(o),c=a*t,f=u*t,l=a/t,h=u/t,s=(u*e-a*n)/t,p=(u*n+a*e)/t;function g(m,y){return m*=r,y*=i,[c*m-f*y+n,e-f*m-c*y]}return g.invert=function(m,y){return[r*(l*m-h*y+s),i*(p-h*m-l*y)]},g}function qs(t){var n,e=150,r=480,i=250,o=0,a=0,u=0,c=0,f=0,l,h=0,s=1,p=1,g=null,m=Nr,y=null,M,E,S,d=ye,_=.5,x,N,A,$,R;function w(v){return A(v[0]*X,v[1]*X)}function I(v){return v=A.invert(v[0],v[1]),v&&[v[0]*Q,v[1]*Q]}w.stream=function(v){return $&&R===v?$:$=Ds(Ls(l)(m(x(d(R=v)))))},w.preclip=function(v){return arguments.length?(m=v,g=void 0,T()):m},w.postclip=function(v){return arguments.length?(d=v,y=M=E=S=null,T()):d},w.clipAngle=function(v){return arguments.length?(m=+v?ws(g=v*X):(g=null,Nr),T()):g*Q},w.clipExtent=function(v){return arguments.length?(d=v==null?(y=M=E=S=null,ye):xs(y=+v[0][0],M=+v[0][1],E=+v[1][0],S=+v[1][1]),T()):y==null?null:[[y,M],[E,S]]},w.scale=function(v){return arguments.length?(e=+v,b()):e},w.translate=function(v){return arguments.length?(r=+v[0],i=+v[1],b()):[r,i]},w.center=function(v){return arguments.length?(o=v[0]%360*X,a=v[1]%360*X,b()):[o*Q,a*Q]},w.rotate=function(v){return arguments.length?(u=v[0]%360*X,c=v[1]%360*X,f=v.length>2?v[2]%360*X:0,b()):[u*Q,c*Q,f*Q]},w.angle=function(v){return arguments.length?(h=v%360*X,b()):h*Q},w.reflectX=function(v){return arguments.length?(s=v?-1:1,b()):s<0},w.reflectY=function(v){return arguments.length?(p=v?-1:1,b()):p<0},w.precision=function(v){return arguments.length?(x=Pr(N,_=v*v),T()):pt(_)},w.fitExtent=function(v,k){return Ve(w,v,k)},w.fitSize=function(v,k){return Ci(w,v,k)},w.fitWidth=function(v,k){return Pi(w,v,k)},w.fitHeight=function(v,k){return Ii(w,v,k)};function b(){var v=Ir(e,0,0,s,p,h).apply(null,n(o,a)),k=Ir(e,r-v[0],i-v[1],s,p,h);return l=cs(u,c,f),N=me(n,k),A=me(l,N),x=Pr(N,_),T()}function T(){return $=R=null,w}return function(){return n=t.apply(this,arguments),w.invert=n.invert&&I,b()}}function Xs(t){var n=0,e=C/3,r=qs(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*X,e=o[1]*X):[n*Q,e*Q]},i}function Os(t){var n=H(t);function e(r,i){return[r*n,z(i)/n]}return e.invert=function(r,i){return[r/n,_t(i*n)]},e}function Vs(t,n){var e=z(t),r=(e+z(n))/2;if(L(r)<P)return Os(t);var i=1+e*(2*r-e),o=pt(i)/r;function a(u,c){var f=pt(i-2*r*z(c))/r;return[f*z(u*=r),o-f*H(u)]}return a.invert=function(u,c){var f=o-c,l=Tt(u,L(f))*_n(f);return f*r<0&&(l-=C*_n(u)*_n(f)),[l/r,_t((i-(u*u+f*f)*r*r)/(2*r))]},a}function ke(){return Xs(Vs).scale(155.424).center([0,33.6442])}function Ys(){return ke().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Us(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Bs(){var t,n,e=Ys(),r,i=ke().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ke().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c,f={point:function(s,p){c=[s,p]}};function l(s){var p=s[0],g=s[1];return c=null,r.point(p,g),c||(o.point(p,g),c)||(u.point(p,g),c)}l.invert=function(s){var p=e.scale(),g=e.translate(),m=(s[0]-g[0])/p,y=(s[1]-g[1])/p;return(y>=.12&&y<.234&&m>=-.425&&m<-.214?i:y>=.166&&y<.234&&m>=-.214&&m<-.115?a:e).invert(s)},l.stream=function(s){return t&&n===s?t:t=Us([e.stream(n=s),i.stream(s),a.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),a.precision(s),h()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),a.scale(s),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var p=e.scale(),g=+s[0],m=+s[1];return r=e.translate(s).clipExtent([[g-.455*p,m-.238*p],[g+.455*p,m+.238*p]]).stream(f),o=i.translate([g-.307*p,m+.201*p]).clipExtent([[g-.425*p+P,m+.12*p+P],[g-.214*p-P,m+.234*p-P]]).stream(f),u=a.translate([g-.205*p,m+.212*p]).clipExtent([[g-.214*p+P,m+.166*p+P],[g-.115*p-P,m+.234*p-P]]).stream(f),h()},l.fitExtent=function(s,p){return Ve(l,s,p)},l.fitSize=function(s,p){return Ci(l,s,p)},l.fitWidth=function(s,p){return Pi(l,s,p)},l.fitHeight=function(s,p){return Ii(l,s,p)};function h(){return t=n=null,l}return l.scale(1070)}function Fi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Gs(t){return function(){return t}}function Ws(t){return+t}var Fr=[0,1];function Nt(t){return t}function be(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Gs(isNaN(n)?NaN:.5)}function Zs(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Js(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=be(i,r),o=e(a,o)):(r=be(r,i),o=e(o,a)),function(u){return o(r(u))}}function Ks(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=be(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(u){var c=Xr(t,u,1,r)-1;return o[c](i[c](u))}}function Qs(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function js(){var t=Fr,n=Fr,e=ze,r,i,o,a=Nt,u,c,f;function l(){var s=Math.min(t.length,n.length);return a!==Nt&&(a=Zs(t[0],t[s-1])),u=s>2?Ks:Js,c=f=null,h}function h(s){return s==null||isNaN(s=+s)?o:(c||(c=u(t.map(r),n,e)))(r(a(s)))}return h.invert=function(s){return a(i((f||(f=u(n,t.map(r),j)))(s)))},h.domain=function(s){return arguments.length?(t=Array.from(s,Ws),l()):t.slice()},h.range=function(s){return arguments.length?(n=Array.from(s),l()):n.slice()},h.rangeRound=function(s){return n=Array.from(s),e=Su,l()},h.clamp=function(s){return arguments.length?(a=s?!0:Nt,l()):a!==Nt},h.interpolate=function(s){return arguments.length?(e=s,l()):e},h.unknown=function(s){return arguments.length?(o=s,h):o},function(s,p){return r=s,i=p,l()}}function tf(){return js()(Nt,Nt)}function nf(t,n,e,r){var i=to(t,n,e),o;switch(r=Tn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=as(i,a))&&(r.precision=o),vi(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=us(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=os(i))&&(r.precision=o-(r.type==="%")*2);break}}return mi(r)}function ef(t){var n=t.domain;return t.ticks=function(e){var r=n();return ji(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return nf(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,l=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);l-- >0;){if(f=re(a,u,e),f===c)return r[i]=a,r[o]=u,n(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Re(){var t=tf();return t.copy=function(){return Qs(t,Re())},Fi.apply(t,arguments),ef(t)}function zi(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Xr(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return zi().domain(t).range(n).unknown(e)},Fi.apply(i,arguments)}function Yt(t,n,e){this.k=t,this.x=n,this.y=e}Yt.prototype={constructor:Yt,scale:function(t){return t===1?this:new Yt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Yt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yt.prototype;function rf(t){let n,e='<h1 style="font-size: 28px; font-weight: bold;">U.S Housing Market Insights: Median Prices by State from January 2000 to October 2024</h1>',r,i,o,a,u,c,f,l,h="<p><strong>Insightful Visualization:</strong> Explore the evolution of U.S. housing market trends with this interactive visualization. Seamlessly hover over each state to reveal its median home price for the selected year. Navigate through two decades of data using the timeline slider and uncover regional trends. The dynamic color gradient highlights price variations, with deeper hues signifying higher housing values, offering a clear, data-driven perspective on the market.</p>";return{c(){n=tn("div"),n.innerHTML=e,r=nn(),i=tn("div"),o=nn(),a=Li("svg"),u=nn(),c=tn("div"),f=nn(),l=tn("div"),l.innerHTML=h,this.h()},l(s){n=en(s,"DIV",{style:!0,"data-svelte-h":!0}),Ye(n)!=="svelte-dhdpmk"&&(n.innerHTML=e),r=rn(s),i=en(s,"DIV",{id:!0,style:!0}),Vn(i).forEach(G),o=rn(s),a=Hi(s,"svg",{id:!0,class:!0}),Vn(a).forEach(G),u=rn(s),c=en(s,"DIV",{id:!0,class:!0}),Vn(c).forEach(G),f=rn(s),l=en(s,"DIV",{style:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-9k7csf"&&(l.innerHTML=h),this.h()},h(){Y(n,"text-align","center"),Y(n,"margin-bottom","20px"),It(i,"id","slider"),Y(i,"margin","30px"),It(a,"id","map"),It(a,"class","svelte-ed4w7q"),It(c,"id","tooltip"),It(c,"class","svelte-ed4w7q"),Y(l,"margin-top","20px"),Y(l,"padding","10px"),Y(l,"line-height","1.5"),Y(l,"max-width","800px"),Y(l,"margin-left","auto"),Y(l,"margin-right","auto"),Y(l,"text-align","justify"),Y(l,"font-size","20px"),Y(l,"color","#333"),Y(l,"text-indent","40px")},m(s,p){st(s,n,p),st(s,r,p),st(s,i,p),st(s,o,p),st(s,a,p),st(s,u,p),st(s,c,p),st(s,f,p),st(s,l,p)},p:dn,i:dn,o:dn,d(s){s&&(G(n),G(r),G(i),G(o),G(a),G(u),G(c),G(f),G(l))}}}let ee=1700,zr=1e3;function of(t){let n,e,r,i=[],o=zi().domain([0,1e5,3e5,5e5,75e4,1e6]).range(["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#084594"]);Di(async()=>{n=await Wl("/median_prices.csv"),e=await Jl("/us-states.json"),i=n.columns.slice(8),r=i[0],a(),u()});function a(){const f=U("#map").attr("width",ee).attr("height",zr),l=Bs().scale(1800).translate([ee/2,zr/2]),h=Ps().projection(l);e.features.forEach(s=>{const p=n.find(g=>g.RegionName===s.properties.NAME);s.properties.median_price=p?Math.round(+p[r]):null}),f.selectAll("path").data(e.features).join("path").attr("d",h).attr("fill",s=>s.properties.median_price!==null?o(s.properties.median_price):"#ccc").attr("stroke","#333").attr("stroke-width",.5).on("mouseover",function(s,p){if(U(this).transition().duration(200).attr("fill","#ffcc00").attr("stroke-width",2),p.properties.median_price!==null){const g=p.properties.median_price.toLocaleString();U("#tooltip").style("opacity",1).html(`${p.properties.NAME}: $${g}`).style("left",`${s.pageX+10}px`).style("top",`${s.pageY+10}px`)}}).on("mouseover",function(s,p){if(p.properties.median_price!==null){const g=U(this).attr("fill"),m=gt(g).brighter(.5);U(this).transition().duration(200).attr("fill",m).attr("stroke-width",4);const y=p.properties.median_price.toLocaleString();U("#tooltip").style("opacity",1).html(`${p.properties.NAME}: $${y}`).style("left",`${s.pageX+10}px`).style("top",`${s.pageY+10}px`)}}).on("mouseout",function(s,p){U(this).transition().duration(200).attr("fill",g=>g.properties.median_price!==null?o(g.properties.median_price):"#ccc").attr("stroke-width",.5),U("#tooltip").style("opacity",0)}),c(f)}function u(){const f=U("#slider");f.append("h3").text("Select Timeline (Year)").style("font-size","20px").style("margin-bottom","10px");const l=i.map(m=>m.split("/")[2]),h=Re().domain([0,l.length-1]).range([0,800]),s=Be(h).ticks(10).tickFormat(m=>l[m]),p=f.append("svg").attr("width",850).attr("height",80);p.append("g").attr("transform","translate(25,50)").call(s).selectAll("text").style("font-size","18px").style("font-weight","bold").style("fill","#333");const g=p.append("circle").attr("cx",25).attr("cy",50).attr("r",10).attr("fill","orange").call(ja().on("drag",m=>{let y=Math.min(800,Math.max(0,m.x-25));g.attr("cx",y+25);const M=Math.round(h.invert(y));r=i[M],a()}))}function c(f,l){const p=f.append("g").attr("id","legend").attr("transform",`translate(${(ee-800)/2}, 50)`),g=Re().domain([0,1e6]).range([0,800]),m=Be(g).tickValues([0,1e5,3e5,5e5,75e4,1e6]).tickFormat(M=>`$${M.toLocaleString()}`);f.append("defs").append("linearGradient").attr("id","gradient").selectAll("stop").data([{offset:"0%",color:"#f7fbff"},{offset:"12%",color:"#deebf7"},{offset:"30%",color:"#c6dbef"},{offset:"45%",color:"#9ecae1"},{offset:"66.6%",color:"#6baed6"},{offset:"100%",color:"#041e42"}]).enter().append("stop").attr("offset",M=>M.offset).attr("stop-color",M=>M.color),p.append("rect").attr("width",800).attr("height",20).style("fill","url(#gradient)"),p.append("g").attr("transform","translate(0, 20)").call(m).selectAll("text").style("font-size","18px").style("font-weight","bold")}return[]}class af extends Lr{constructor(n){super(),Hr(this,n,of,rf,Dr,{})}}function uf(t){let n,e;return n=new af({}),{c(){qi(n.$$.fragment)},l(r){Xi(n.$$.fragment,r)},m(r,i){Oi(n,r,i),e=!0},p:dn,i(r){e||(Vi(n.$$.fragment,r),e=!0)},o(r){Yi(n.$$.fragment,r),e=!1},d(r){Ui(n,r)}}}class ff extends Lr{constructor(n){super(),Hr(this,n,null,uf,Dr,{})}}export{ff as component};
